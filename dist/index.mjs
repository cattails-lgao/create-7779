import N from"path";import A from"fs";import{fileURLToPath as Li}from"url";import ge from"readline";import ve from"events";let U=!0;const G=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{};let W=0;if(G.process&&G.process.env&&G.process.stdout){const{FORCE_COLOR:t,NODE_DISABLE_COLORS:r,NO_COLOR:h,TERM:e,COLORTERM:a}=G.process.env;r||h||t==="0"?U=!1:t==="1"||t==="2"||t==="3"?U=!0:e==="dumb"?U=!1:"CI"in G.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(g=>g in G.process.env)?U=!0:U=process.stdout.isTTY,U&&(process.platform==="win32"||a&&(a==="truecolor"||a==="24bit")?W=3:e&&(e.endsWith("-256color")||e.endsWith("256"))?W=2:W=1)}let be={enabled:U,supportLevel:W};function z(t,r,h=1){const e=`\x1B[${t}m`,a=`\x1B[${r}m`,g=new RegExp(`\\x1b\\[${r}m`,"g");return s=>be.enabled&&be.supportLevel>=h?e+(""+s).replace(g,e)+a:""+s}const Z=z(0,0),Ni=z(31,39),J=z(33,39),K=z(34,39);function we(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var X={},Q,ye;function q(){if(ye)return Q;ye=1;const{FORCE_COLOR:t,NODE_DISABLE_COLORS:r,TERM:h}=process.env,e={enabled:!r&&h!=="dumb"&&t!=="0",reset:s(0,0),bold:s(1,22),dim:s(2,22),italic:s(3,23),underline:s(4,24),inverse:s(7,27),hidden:s(8,28),strikethrough:s(9,29),black:s(30,39),red:s(31,39),green:s(32,39),yellow:s(33,39),blue:s(34,39),magenta:s(35,39),cyan:s(36,39),white:s(37,39),gray:s(90,39),grey:s(90,39),bgBlack:s(40,49),bgRed:s(41,49),bgGreen:s(42,49),bgYellow:s(43,49),bgBlue:s(44,49),bgMagenta:s(45,49),bgCyan:s(46,49),bgWhite:s(47,49)};function a(v,o){let c=0,i,d="",l="";for(;c<v.length;c++)i=v[c],d+=i.open,l+=i.close,o.includes(i.close)&&(o=o.replace(i.rgx,i.close+i.open));return d+o+l}function g(v,o){let c={has:v,keys:o};return c.reset=e.reset.bind(c),c.bold=e.bold.bind(c),c.dim=e.dim.bind(c),c.italic=e.italic.bind(c),c.underline=e.underline.bind(c),c.inverse=e.inverse.bind(c),c.hidden=e.hidden.bind(c),c.strikethrough=e.strikethrough.bind(c),c.black=e.black.bind(c),c.red=e.red.bind(c),c.green=e.green.bind(c),c.yellow=e.yellow.bind(c),c.blue=e.blue.bind(c),c.magenta=e.magenta.bind(c),c.cyan=e.cyan.bind(c),c.white=e.white.bind(c),c.gray=e.gray.bind(c),c.grey=e.grey.bind(c),c.bgBlack=e.bgBlack.bind(c),c.bgRed=e.bgRed.bind(c),c.bgGreen=e.bgGreen.bind(c),c.bgYellow=e.bgYellow.bind(c),c.bgBlue=e.bgBlue.bind(c),c.bgMagenta=e.bgMagenta.bind(c),c.bgCyan=e.bgCyan.bind(c),c.bgWhite=e.bgWhite.bind(c),c}function s(v,o){let c={open:`\x1B[${v}m`,close:`\x1B[${o}m`,rgx:new RegExp(`\\x1b\\[${o}m`,"g")};return function(i){return this!==void 0&&this.has!==void 0?(this.has.includes(v)||(this.has.push(v),this.keys.push(c)),i===void 0?this:e.enabled?a(this.keys,i+""):i+""):i===void 0?g([v],[c]):e.enabled?a([c],i+""):i+""}}return Q=e,Q}var tt,xe;function Vi(){return xe||(xe=1,tt=(t,r)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(r){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}),tt}var et,Se;function it(){return Se||(Se=1,et=t=>{const r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),h=new RegExp(r,"g");return typeof t=="string"?t.replace(h,""):t}),et}var rt,$e;function _(){if($e)return rt;$e=1;const t="\x1B",r=`${t}[`,h="\x07",e={to(s,v){return v?`${r}${v+1};${s+1}H`:`${r}${s+1}G`},move(s,v){let o="";return s<0?o+=`${r}${-s}D`:s>0&&(o+=`${r}${s}C`),v<0?o+=`${r}${-v}A`:v>0&&(o+=`${r}${v}B`),o},up:(s=1)=>`${r}${s}A`,down:(s=1)=>`${r}${s}B`,forward:(s=1)=>`${r}${s}C`,backward:(s=1)=>`${r}${s}D`,nextLine:(s=1)=>`${r}E`.repeat(s),prevLine:(s=1)=>`${r}F`.repeat(s),left:`${r}G`,hide:`${r}?25l`,show:`${r}?25h`,save:`${t}7`,restore:`${t}8`},a={up:(s=1)=>`${r}S`.repeat(s),down:(s=1)=>`${r}T`.repeat(s)},g={screen:`${r}2J`,up:(s=1)=>`${r}1J`.repeat(s),down:(s=1)=>`${r}J`.repeat(s),line:`${r}2K`,lineEnd:`${r}K`,lineStart:`${r}1K`,lines(s){let v="";for(let o=0;o<s;o++)v+=this.line+(o<s-1?e.up():"");return s&&(v+=e.left),v}};return rt={cursor:e,scroll:a,erase:g,beep:h},rt}var st,Me;function ki(){if(Me)return st;Me=1;function t(o,c){var i=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!i){if(Array.isArray(o)||(i=r(o))||c&&o&&typeof o.length=="number"){i&&(o=i);var d=0,l=function(){};return{s:l,n:function(){return d>=o.length?{done:!0}:{done:!1,value:o[d++]}},e:function(f){throw f},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,u=!1,y;return{s:function(){i=i.call(o)},n:function(){var f=i.next();return n=f.done,f},e:function(f){u=!0,y=f},f:function(){try{!n&&i.return!=null&&i.return()}finally{if(u)throw y}}}}function r(o,c){if(o){if(typeof o=="string")return h(o,c);var i=Object.prototype.toString.call(o).slice(8,-1);if(i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set")return Array.from(o);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return h(o,c)}}function h(o,c){(c==null||c>o.length)&&(c=o.length);for(var i=0,d=new Array(c);i<c;i++)d[i]=o[i];return d}const e=it(),a=_(),g=a.erase,s=a.cursor,v=o=>[...e(o)].length;return st=function(o,c){if(!c)return g.line+s.to(0);let i=0;const d=o.split(/\r?\n/);var l=t(d),n;try{for(l.s();!(n=l.n()).done;){let u=n.value;i+=1+Math.floor(Math.max(v(u)-1,0)/c)}}catch(u){l.e(u)}finally{l.f()}return g.lines(i)},st}var nt,Oe;function Pe(){if(Oe)return nt;Oe=1;const t={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},r={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return nt=process.platform==="win32"?r:t,nt}var ot,Te;function Ui(){if(Te)return ot;Te=1;const t=q(),r=Pe(),h=Object.freeze({password:{scale:1,render:o=>"*".repeat(o.length)},emoji:{scale:2,render:o=>"\u{1F603}".repeat(o.length)},invisible:{scale:0,render:o=>""},default:{scale:1,render:o=>`${o}`}}),e=o=>h[o]||h.default,a=Object.freeze({aborted:t.red(r.cross),done:t.green(r.tick),exited:t.yellow(r.cross),default:t.cyan("?")});return ot={styles:h,render:e,symbols:a,symbol:(o,c,i)=>c?a.aborted:i?a.exited:o?a.done:a.default,delimiter:o=>t.gray(o?r.ellipsis:r.pointerSmall),item:(o,c)=>t.gray(o?c?r.pointerSmall:"+":r.line)},ot}var ht,qe;function Bi(){if(qe)return ht;qe=1;const t=it();return ht=function(r,h){let e=String(t(r)||"").split(/\r?\n/);return h?e.map(a=>Math.ceil(a.length/h)).reduce((a,g)=>a+g):e.length},ht}var lt,_e;function Gi(){return _e||(_e=1,lt=(t,r={})=>{const h=Number.isSafeInteger(parseInt(r.margin))?new Array(parseInt(r.margin)).fill(" ").join(""):r.margin||"",e=r.width;return(t||"").split(/\r?\n/g).map(a=>a.split(/\s+/g).reduce((g,s)=>(s.length+h.length>=e||g[g.length-1].length+s.length+1<e?g[g.length-1]+=` ${s}`:g.push(`${h}${s}`),g),[h]).join(`
`)).join(`
`)}),lt}var ut,De;function Ji(){return De||(De=1,ut=(t,r,h)=>{h=h||r;let e=Math.min(r-h,t-Math.floor(h/2));e<0&&(e=0);let a=Math.min(e+h,r);return{startIndex:e,endIndex:a}}),ut}var at,Re;function F(){return Re||(Re=1,at={action:Vi(),clear:ki(),style:Ui(),strip:it(),figures:Pe(),lines:Bi(),wrap:Gi(),entriesToDisplay:Ji()}),at}var ct,Ce;function V(){if(Ce)return ct;Ce=1;const t=ge,r=F(),h=r.action,e=ve,a=_(),g=a.beep,s=a.cursor,v=q();class o extends e{constructor(i={}){super(),this.firstRender=!0,this.in=i.stdin||process.stdin,this.out=i.stdout||process.stdout,this.onRender=(i.onRender||(()=>{})).bind(this);const d=t.createInterface({input:this.in,escapeCodeTimeout:50});t.emitKeypressEvents(this.in,d),this.in.isTTY&&this.in.setRawMode(!0);const l=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,n=(u,y)=>{let m=h(y,l);m===!1?this._&&this._(u,y):typeof this[m]=="function"?this[m](y):this.bell()};this.close=()=>{this.out.write(s.show),this.in.removeListener("keypress",n),this.in.isTTY&&this.in.setRawMode(!1),d.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",n)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(g)}render(){this.onRender(v),this.firstRender&&(this.firstRender=!1)}}return ct=o,ct}var dt,Ie;function Wi(){if(Ie)return dt;Ie=1;function t(n,u,y,m,f,p,b){try{var w=n[p](b),x=w.value}catch(S){y(S);return}w.done?u(x):Promise.resolve(x).then(m,f)}function r(n){return function(){var u=this,y=arguments;return new Promise(function(m,f){var p=n.apply(u,y);function b(x){t(p,m,f,b,w,"next",x)}function w(x){t(p,m,f,b,w,"throw",x)}b(void 0)})}}const h=q(),e=V(),a=_(),g=a.erase,s=a.cursor,v=F(),o=v.style,c=v.clear,i=v.lines,d=v.figures;class l extends e{constructor(u={}){super(u),this.transform=o.render(u.style),this.scale=this.transform.scale,this.msg=u.message,this.initial=u.initial||"",this.validator=u.validate||(()=>!0),this.value="",this.errorMsg=u.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=c("",this.out.columns),this.render()}set value(u){!u&&this.initial?(this.placeholder=!0,this.rendered=h.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(u)),this._value=u,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var u=this;return r(function*(){let y=yield u.validator(u.value);typeof y=="string"&&(u.errorMsg=y,y=!1),u.error=!y})()}submit(){var u=this;return r(function*(){if(u.value=u.value||u.initial,u.cursorOffset=0,u.cursor=u.rendered.length,yield u.validate(),u.error){u.red=!0,u.fire(),u.render();return}u.done=!0,u.aborted=!1,u.fire(),u.render(),u.out.write(`
`),u.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(u){this.placeholder||(this.cursor=this.cursor+u,this.cursorOffset+=u)}_(u,y){let m=this.value.slice(0,this.cursor),f=this.value.slice(this.cursor);this.value=`${m}${u}${f}`,this.red=!1,this.cursor=this.placeholder?0:m.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let u=this.value.slice(0,this.cursor-1),y=this.value.slice(this.cursor);this.value=`${u}${y}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let u=this.value.slice(0,this.cursor),y=this.value.slice(this.cursor+1);this.value=`${u}${y}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(s.down(i(this.outputError,this.out.columns)-1)+c(this.outputError,this.out.columns)),this.out.write(c(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[o.symbol(this.done,this.aborted),h.bold(this.msg),o.delimiter(this.done),this.red?h.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((u,y,m)=>u+`
${m?" ":d.pointerSmall} ${h.red().italic(y)}`,"")),this.out.write(g.line+s.to(0)+this.outputText+s.save+this.outputError+s.restore+s.move(this.cursorOffset,0)))}}return dt=l,dt}var ft,Ee;function zi(){if(Ee)return ft;Ee=1;const t=q(),r=V(),h=F(),e=h.style,a=h.clear,g=h.figures,s=h.wrap,v=h.entriesToDisplay,o=_(),c=o.cursor;class i extends r{constructor(l={}){super(l),this.msg=l.message,this.hint=l.hint||"- Use arrow-keys. Return to submit.",this.warn=l.warn||"- This option is disabled",this.cursor=l.initial||0,this.choices=l.choices.map((n,u)=>(typeof n=="string"&&(n={title:n,value:u}),{title:n&&(n.title||n.value||n),value:n&&(n.value===void 0?u:n.value),description:n&&n.description,selected:n&&n.selected,disabled:n&&n.disabled})),this.optionsPerPage=l.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=a("",this.out.columns),this.render()}moveCursor(l){this.cursor=l,this.value=this.choices[l].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(l,n){if(l===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(c.hide):this.out.write(a(this.outputText,this.out.columns)),super.render();let l=v(this.cursor,this.choices.length,this.optionsPerPage),n=l.startIndex,u=l.endIndex;if(this.outputText=[e.symbol(this.done,this.aborted),t.bold(this.msg),e.delimiter(!1),this.done?this.selection.title:this.selection.disabled?t.yellow(this.warn):t.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let y=n;y<u;y++){let m,f,p="",b=this.choices[y];y===n&&n>0?f=g.arrowUp:y===u-1&&u<this.choices.length?f=g.arrowDown:f=" ",b.disabled?(m=this.cursor===y?t.gray().underline(b.title):t.strikethrough().gray(b.title),f=(this.cursor===y?t.bold().gray(g.pointer)+" ":"  ")+f):(m=this.cursor===y?t.cyan().underline(b.title):b.title,f=(this.cursor===y?t.cyan(g.pointer)+" ":"  ")+f,b.description&&this.cursor===y&&(p=` - ${b.description}`,(f.length+m.length+p.length>=this.out.columns||b.description.split(/\r?\n/).length>1)&&(p=`
`+s(b.description,{margin:3,width:this.out.columns})))),this.outputText+=`${f} ${m}${t.gray(p)}
`}}this.out.write(this.outputText)}}return ft=i,ft}var pt,Ae;function Ki(){if(Ae)return pt;Ae=1;const t=q(),r=V(),h=F(),e=h.style,a=h.clear,g=_(),s=g.cursor,v=g.erase;class o extends r{constructor(i={}){super(i),this.msg=i.message,this.value=!!i.initial,this.active=i.active||"on",this.inactive=i.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(i,d){if(i===" ")this.value=!this.value;else if(i==="1")this.value=!0;else if(i==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(s.hide):this.out.write(a(this.outputText,this.out.columns)),super.render(),this.outputText=[e.symbol(this.done,this.aborted),t.bold(this.msg),e.delimiter(this.done),this.value?this.inactive:t.cyan().underline(this.inactive),t.gray("/"),this.value?t.cyan().underline(this.active):this.active].join(" "),this.out.write(v.line+s.to(0)+this.outputText))}}return pt=o,pt}var mt,je;function H(){if(je)return mt;je=1;class t{constructor({token:h,date:e,parts:a,locales:g}){this.token=h,this.date=e||new Date,this.parts=a||[this],this.locales=g||{}}up(){}down(){}next(){const h=this.parts.indexOf(this);return this.parts.find((e,a)=>a>h&&e instanceof t)}setTo(h){}prev(){let h=[].concat(this.parts).reverse();const e=h.indexOf(this);return h.find((a,g)=>g>e&&a instanceof t)}toString(){return String(this.date)}}return mt=t,mt}var gt,Fe;function Zi(){if(Fe)return gt;Fe=1;const t=H();class r extends t{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}}return gt=r,gt}var vt,Ye;function Xi(){if(Ye)return vt;Ye=1;const t=H(),r=e=>(e=e%10,e===1?"st":e===2?"nd":e===3?"rd":"th");class h extends t{constructor(a={}){super(a)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(a){this.date.setDate(parseInt(a.substr(-2)))}toString(){let a=this.date.getDate(),g=this.date.getDay();return this.token==="DD"?String(a).padStart(2,"0"):this.token==="Do"?a+r(a):this.token==="d"?g+1:this.token==="ddd"?this.locales.weekdaysShort[g]:this.token==="dddd"?this.locales.weekdays[g]:a}}return vt=h,vt}var bt,He;function Qi(){if(He)return bt;He=1;const t=H();class r extends t{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}}return bt=r,bt}var wt,Le;function tr(){if(Le)return wt;Le=1;const t=H();class r extends t{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return wt=r,wt}var yt,Ne;function er(){if(Ne)return yt;Ne=1;const t=H();class r extends t{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}}return yt=r,yt}var xt,Ve;function ir(){if(Ve)return xt;Ve=1;const t=H();class r extends t{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),a=this.token.length;return a===2?String(e+1).padStart(2,"0"):a===3?this.locales.monthsShort[e]:a===4?this.locales.months[e]:String(e+1)}}return xt=r,xt}var St,ke;function rr(){if(ke)return St;ke=1;const t=H();class r extends t{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}}return St=r,St}var $t,Ue;function sr(){if(Ue)return $t;Ue=1;const t=H();class r extends t{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}}return $t=r,$t}var Mt,Be;function nr(){return Be||(Be=1,Mt={DatePart:H(),Meridiem:Zi(),Day:Xi(),Hours:Qi(),Milliseconds:tr(),Minutes:er(),Month:ir(),Seconds:rr(),Year:sr()}),Mt}var Ot,Ge;function or(){if(Ge)return Ot;Ge=1;function t($,O,T,I,D,R,j){try{var E=$[R](j),C=E.value}catch(B){T(B);return}E.done?O(C):Promise.resolve(C).then(I,D)}function r($){return function(){var O=this,T=arguments;return new Promise(function(I,D){var R=$.apply(O,T);function j(C){t(R,I,D,j,E,"next",C)}function E(C){t(R,I,D,j,E,"throw",C)}j(void 0)})}}const h=q(),e=V(),a=F(),g=a.style,s=a.clear,v=a.figures,o=_(),c=o.erase,i=o.cursor,d=nr(),l=d.DatePart,n=d.Meridiem,u=d.Day,y=d.Hours,m=d.Milliseconds,f=d.Minutes,p=d.Month,b=d.Seconds,w=d.Year,x=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,S={1:({token:$})=>$.replace(/\\(.)/g,"$1"),2:$=>new u($),3:$=>new p($),4:$=>new w($),5:$=>new n($),6:$=>new y($),7:$=>new f($),8:$=>new b($),9:$=>new m($)},M={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class P extends e{constructor(O={}){super(O),this.msg=O.message,this.cursor=0,this.typed="",this.locales=Object.assign(M,O.locales),this._date=O.initial||new Date,this.errorMsg=O.error||"Please Enter A Valid Value",this.validator=O.validate||(()=>!0),this.mask=O.mask||"YYYY-MM-DD HH:mm:ss",this.clear=s("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(O){O&&this._date.setTime(O.getTime())}set mask(O){let T;for(this.parts=[];T=x.exec(O);){let D=T.shift(),R=T.findIndex(j=>j!=null);this.parts.push(R in S?S[R]({token:T[R]||D,date:this.date,parts:this.parts,locales:this.locales}):T[R]||D)}let I=this.parts.reduce((D,R)=>(typeof R=="string"&&typeof D[D.length-1]=="string"?D[D.length-1]+=R:D.push(R),D),[]);this.parts.splice(0),this.parts.push(...I),this.reset()}moveCursor(O){this.typed="",this.cursor=O,this.fire()}reset(){this.moveCursor(this.parts.findIndex(O=>O instanceof l)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var O=this;return r(function*(){let T=yield O.validator(O.value);typeof T=="string"&&(O.errorMsg=T,T=!1),O.error=!T})()}submit(){var O=this;return r(function*(){if(yield O.validate(),O.error){O.color="red",O.fire(),O.render();return}O.done=!0,O.aborted=!1,O.fire(),O.render(),O.out.write(`
`),O.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let O=this.parts[this.cursor].prev();if(O==null)return this.bell();this.moveCursor(this.parts.indexOf(O)),this.render()}right(){let O=this.parts[this.cursor].next();if(O==null)return this.bell();this.moveCursor(this.parts.indexOf(O)),this.render()}next(){let O=this.parts[this.cursor].next();this.moveCursor(O?this.parts.indexOf(O):this.parts.findIndex(T=>T instanceof l)),this.render()}_(O){/\d/.test(O)&&(this.typed+=O,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(i.hide):this.out.write(s(this.outputText,this.out.columns)),super.render(),this.outputText=[g.symbol(this.done,this.aborted),h.bold(this.msg),g.delimiter(!1),this.parts.reduce((O,T,I)=>O.concat(I===this.cursor&&!this.done?h.cyan().underline(T.toString()):T),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((O,T,I)=>O+`
${I?" ":v.pointerSmall} ${h.red().italic(T)}`,"")),this.out.write(c.line+i.to(0)+this.outputText))}}return Ot=P,Ot}var Pt,Je;function hr(){if(Je)return Pt;Je=1;function t(m,f,p,b,w,x,S){try{var M=m[x](S),P=M.value}catch($){p($);return}M.done?f(P):Promise.resolve(P).then(b,w)}function r(m){return function(){var f=this,p=arguments;return new Promise(function(b,w){var x=m.apply(f,p);function S(P){t(x,b,w,S,M,"next",P)}function M(P){t(x,b,w,S,M,"throw",P)}S(void 0)})}}const h=q(),e=V(),a=_(),g=a.cursor,s=a.erase,v=F(),o=v.style,c=v.figures,i=v.clear,d=v.lines,l=/[0-9]/,n=m=>m!==void 0,u=(m,f)=>{let p=Math.pow(10,f);return Math.round(m*p)/p};class y extends e{constructor(f={}){super(f),this.transform=o.render(f.style),this.msg=f.message,this.initial=n(f.initial)?f.initial:"",this.float=!!f.float,this.round=f.round||2,this.inc=f.increment||1,this.min=n(f.min)?f.min:-1/0,this.max=n(f.max)?f.max:1/0,this.errorMsg=f.error||"Please Enter A Valid Value",this.validator=f.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(f){!f&&f!==0?(this.placeholder=!0,this.rendered=h.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${u(f,this.round)}`),this._value=u(f,this.round)),this.fire()}get value(){return this._value}parse(f){return this.float?parseFloat(f):parseInt(f)}valid(f){return f==="-"||f==="."&&this.float||l.test(f)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let f=this.value;this.value=f!==""?f:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var f=this;return r(function*(){let p=yield f.validator(f.value);typeof p=="string"&&(f.errorMsg=p,p=!1),f.error=!p})()}submit(){var f=this;return r(function*(){if(yield f.validate(),f.error){f.color="red",f.fire(),f.render();return}let p=f.value;f.value=p!==""?p:f.initial,f.done=!0,f.aborted=!1,f.error=!1,f.fire(),f.render(),f.out.write(`
`),f.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let f=this.value.toString();if(f.length===0)return this.bell();this.value=this.parse(f=f.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(f,p){if(!this.valid(f))return this.bell();const b=Date.now();if(b-this.lastHit>1e3&&(this.typed=""),this.typed+=f,this.lastHit=b,this.color="cyan",f===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(g.down(d(this.outputError,this.out.columns)-1)+i(this.outputError,this.out.columns)),this.out.write(i(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[o.symbol(this.done,this.aborted),h.bold(this.msg),o.delimiter(this.done),!this.done||!this.done&&!this.placeholder?h[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((f,p,b)=>f+`
${b?" ":c.pointerSmall} ${h.red().italic(p)}`,"")),this.out.write(s.line+g.to(0)+this.outputText+g.save+this.outputError+g.restore))}}return Pt=y,Pt}var Tt,We;function ze(){if(We)return Tt;We=1;const t=q(),r=_(),h=r.cursor,e=V(),a=F(),g=a.clear,s=a.figures,v=a.style,o=a.wrap,c=a.entriesToDisplay;class i extends e{constructor(l={}){super(l),this.msg=l.message,this.cursor=l.cursor||0,this.scrollIndex=l.cursor||0,this.hint=l.hint||"",this.warn=l.warn||"- This option is disabled -",this.minSelected=l.min,this.showMinError=!1,this.maxChoices=l.max,this.instructions=l.instructions,this.optionsPerPage=l.optionsPerPage||10,this.value=l.choices.map((n,u)=>(typeof n=="string"&&(n={title:n,value:u}),{title:n&&(n.title||n.value||n),description:n&&n.description,value:n&&(n.value===void 0?u:n.value),selected:n&&n.selected,disabled:n&&n.disabled})),this.clear=g("",this.out.columns),l.overrideRender||this.render()}reset(){this.value.map(l=>!l.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(l=>l.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const l=this.value.filter(n=>n.selected);this.minSelected&&l.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(l=>l.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const l=this.value[this.cursor];if(l.selected)l.selected=!1,this.render();else{if(l.disabled||this.value.filter(n=>n.selected).length>=this.maxChoices)return this.bell();l.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const l=!this.value[this.cursor].selected;this.value.filter(n=>!n.disabled).forEach(n=>n.selected=l),this.render()}_(l,n){if(l===" ")this.handleSpaceToggle();else if(l==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${s.arrowUp}/${s.arrowDown}: Highlight option
    ${s.arrowLeft}/${s.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(l,n,u,y){const m=(n.selected?t.green(s.radioOn):s.radioOff)+" "+y+" ";let f,p;return n.disabled?f=l===u?t.gray().underline(n.title):t.strikethrough().gray(n.title):(f=l===u?t.cyan().underline(n.title):n.title,l===u&&n.description&&(p=` - ${n.description}`,(m.length+f.length+p.length>=this.out.columns||n.description.split(/\r?\n/).length>1)&&(p=`
`+o(n.description,{margin:m.length,width:this.out.columns})))),m+f+t.gray(p||"")}paginateOptions(l){if(l.length===0)return t.red("No matches for this query.");let n=c(this.cursor,l.length,this.optionsPerPage),u=n.startIndex,y=n.endIndex,m,f=[];for(let p=u;p<y;p++)p===u&&u>0?m=s.arrowUp:p===y-1&&y<l.length?m=s.arrowDown:m=" ",f.push(this.renderOption(this.cursor,l[p],p,m));return`
`+f.join(`
`)}renderOptions(l){return this.done?"":this.paginateOptions(l)}renderDoneOrInstructions(){if(this.done)return this.value.filter(n=>n.selected).map(n=>n.title).join(", ");const l=[t.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&l.push(t.yellow(this.warn)),l.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(h.hide),super.render();let l=[v.symbol(this.done,this.aborted),t.bold(this.msg),v.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(l+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),l+=this.renderOptions(this.value),this.out.write(this.clear+l),this.clear=g(l,this.out.columns)}}return Tt=i,Tt}var qt,Ke;function lr(){if(Ke)return qt;Ke=1;function t(f,p,b,w,x,S,M){try{var P=f[S](M),$=P.value}catch(O){b(O);return}P.done?p($):Promise.resolve($).then(w,x)}function r(f){return function(){var p=this,b=arguments;return new Promise(function(w,x){var S=f.apply(p,b);function M($){t(S,w,x,M,P,"next",$)}function P($){t(S,w,x,M,P,"throw",$)}M(void 0)})}}const h=q(),e=V(),a=_(),g=a.erase,s=a.cursor,v=F(),o=v.style,c=v.clear,i=v.figures,d=v.wrap,l=v.entriesToDisplay,n=(f,p)=>f[p]&&(f[p].value||f[p].title||f[p]),u=(f,p)=>f[p]&&(f[p].title||f[p].value||f[p]),y=(f,p)=>{const b=f.findIndex(w=>w.value===p||w.title===p);return b>-1?b:void 0};class m extends e{constructor(p={}){super(p),this.msg=p.message,this.suggest=p.suggest,this.choices=p.choices,this.initial=typeof p.initial=="number"?p.initial:y(p.choices,p.initial),this.select=this.initial||p.cursor||0,this.i18n={noMatches:p.noMatches||"no matches found"},this.fallback=p.fallback||this.initial,this.clearFirst=p.clearFirst||!1,this.suggestions=[],this.input="",this.limit=p.limit||10,this.cursor=0,this.transform=o.render(p.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=c("",this.out.columns),this.complete(this.render),this.render()}set fallback(p){this._fb=Number.isSafeInteger(parseInt(p))?parseInt(p):p}get fallback(){let p;return typeof this._fb=="number"?p=this.choices[this._fb]:typeof this._fb=="string"&&(p={title:this._fb}),p||this._fb||{title:this.i18n.noMatches}}moveSelect(p){this.select=p,this.suggestions.length>0?this.value=n(this.suggestions,p):this.value=this.fallback.value,this.fire()}complete(p){var b=this;return r(function*(){const w=b.completing=b.suggest(b.input,b.choices),x=yield w;if(b.completing!==w)return;b.suggestions=x.map((M,P,$)=>({title:u($,P),value:n($,P),description:M.description})),b.completing=!1;const S=Math.max(x.length-1,0);b.moveSelect(Math.min(S,b.select)),p&&p()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(p,b){let w=this.input.slice(0,this.cursor),x=this.input.slice(this.cursor);this.input=`${w}${p}${x}`,this.cursor=w.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let p=this.input.slice(0,this.cursor-1),b=this.input.slice(this.cursor);this.input=`${p}${b}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let p=this.input.slice(0,this.cursor),b=this.input.slice(this.cursor+1);this.input=`${p}${b}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(p,b,w,x){let S,M=w?i.arrowUp:x?i.arrowDown:" ",P=b?h.cyan().underline(p.title):p.title;return M=(b?h.cyan(i.pointer)+" ":"  ")+M,p.description&&(S=` - ${p.description}`,(M.length+P.length+S.length>=this.out.columns||p.description.split(/\r?\n/).length>1)&&(S=`
`+d(p.description,{margin:3,width:this.out.columns}))),M+" "+P+h.gray(S||"")}render(){if(this.closed)return;this.firstRender?this.out.write(s.hide):this.out.write(c(this.outputText,this.out.columns)),super.render();let p=l(this.select,this.choices.length,this.limit),b=p.startIndex,w=p.endIndex;if(this.outputText=[o.symbol(this.done,this.aborted,this.exited),h.bold(this.msg),o.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const x=this.suggestions.slice(b,w).map((S,M)=>this.renderOption(S,this.select===M+b,M===0&&b>0,M+b===w-1&&w<this.choices.length)).join(`
`);this.outputText+=`
`+(x||h.gray(this.fallback.title))}this.out.write(g.line+s.to(0)+this.outputText)}}return qt=m,qt}var _t,Ze;function ur(){if(Ze)return _t;Ze=1;const t=q(),r=_(),h=r.cursor,e=ze(),a=F(),g=a.clear,s=a.style,v=a.figures;class o extends e{constructor(i={}){i.overrideRender=!0,super(i),this.inputValue="",this.clear=g("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const i=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(l=>this.inputValue?!!(typeof l.title=="string"&&l.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof l.value=="string"&&l.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const d=this.filteredOptions.findIndex(l=>l===i);this.cursor=d<0?0:d,this.render()}handleSpaceToggle(){const i=this.filteredOptions[this.cursor];if(i.selected)i.selected=!1,this.render();else{if(i.disabled||this.value.filter(d=>d.selected).length>=this.maxChoices)return this.bell();i.selected=!0,this.render()}}handleInputChange(i){this.inputValue=this.inputValue+i,this.updateFilteredOptions()}_(i,d){i===" "?this.handleSpaceToggle():this.handleInputChange(i)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${v.arrowUp}/${v.arrowDown}: Highlight option
    ${v.arrowLeft}/${v.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:t.gray("Enter something to filter")}
`}renderOption(i,d,l){let n;return d.disabled?n=i===l?t.gray().underline(d.title):t.strikethrough().gray(d.title):n=i===l?t.cyan().underline(d.title):d.title,(d.selected?t.green(v.radioOn):v.radioOff)+"  "+n}renderDoneOrInstructions(){if(this.done)return this.value.filter(d=>d.selected).map(d=>d.title).join(", ");const i=[t.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&i.push(t.yellow(this.warn)),i.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(h.hide),super.render();let i=[s.symbol(this.done,this.aborted),t.bold(this.msg),s.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+i),this.clear=g(i,this.out.columns)}}return _t=o,_t}var Dt,Xe;function ar(){if(Xe)return Dt;Xe=1;const t=q(),r=V(),h=F(),e=h.style,a=h.clear,g=_(),s=g.erase,v=g.cursor;class o extends r{constructor(i={}){super(i),this.msg=i.message,this.value=i.initial,this.initialValue=!!i.initial,this.yesMsg=i.yes||"yes",this.yesOption=i.yesOption||"(Y/n)",this.noMsg=i.no||"no",this.noOption=i.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(i,d){return i.toLowerCase()==="y"?(this.value=!0,this.submit()):i.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(v.hide):this.out.write(a(this.outputText,this.out.columns)),super.render(),this.outputText=[e.symbol(this.done,this.aborted),t.bold(this.msg),e.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:t.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(s.line+v.to(0)+this.outputText))}}return Dt=o,Dt}var Rt,Qe;function cr(){return Qe||(Qe=1,Rt={TextPrompt:Wi(),SelectPrompt:zi(),TogglePrompt:Ki(),DatePrompt:or(),NumberPrompt:hr(),MultiselectPrompt:ze(),AutocompletePrompt:lr(),AutocompleteMultiselectPrompt:ur(),ConfirmPrompt:ar()}),Rt}var ti;function dr(){return ti||(ti=1,function(t){const r=t,h=cr(),e=s=>s;function a(s,v,o={}){return new Promise((c,i)=>{const d=new h[s](v),l=o.onAbort||e,n=o.onSubmit||e,u=o.onExit||e;d.on("state",v.onState||e),d.on("submit",y=>c(n(y))),d.on("exit",y=>c(u(y))),d.on("abort",y=>i(l(y)))})}r.text=s=>a("TextPrompt",s),r.password=s=>(s.style="password",r.text(s)),r.invisible=s=>(s.style="invisible",r.text(s)),r.number=s=>a("NumberPrompt",s),r.date=s=>a("DatePrompt",s),r.confirm=s=>a("ConfirmPrompt",s),r.list=s=>{const v=s.separator||",";return a("TextPrompt",s,{onSubmit:o=>o.split(v).map(c=>c.trim())})},r.toggle=s=>a("TogglePrompt",s),r.select=s=>a("SelectPrompt",s),r.multiselect=s=>{s.choices=[].concat(s.choices||[]);const v=o=>o.filter(c=>c.selected).map(c=>c.value);return a("MultiselectPrompt",s,{onAbort:v,onSubmit:v})},r.autocompleteMultiselect=s=>{s.choices=[].concat(s.choices||[]);const v=o=>o.filter(c=>c.selected).map(c=>c.value);return a("AutocompleteMultiselectPrompt",s,{onAbort:v,onSubmit:v})};const g=(s,v)=>Promise.resolve(v.filter(o=>o.title.slice(0,s.length).toLowerCase()===s.toLowerCase()));r.autocomplete=s=>(s.suggest=s.suggest||g,s.choices=[].concat(s.choices||[]),a("AutocompletePrompt",s))}(X)),X}var Ct,ei;function fr(){if(ei)return Ct;ei=1;function t(m,f){var p=Object.keys(m);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(m);f&&(b=b.filter(function(w){return Object.getOwnPropertyDescriptor(m,w).enumerable})),p.push.apply(p,b)}return p}function r(m){for(var f=1;f<arguments.length;f++){var p=arguments[f]!=null?arguments[f]:{};f%2?t(Object(p),!0).forEach(function(b){h(m,b,p[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(p)):t(Object(p)).forEach(function(b){Object.defineProperty(m,b,Object.getOwnPropertyDescriptor(p,b))})}return m}function h(m,f,p){return f in m?Object.defineProperty(m,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[f]=p,m}function e(m,f){var p=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!p){if(Array.isArray(m)||(p=a(m))||f&&m&&typeof m.length=="number"){p&&(m=p);var b=0,w=function(){};return{s:w,n:function(){return b>=m.length?{done:!0}:{done:!1,value:m[b++]}},e:function($){throw $},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=!0,S=!1,M;return{s:function(){p=p.call(m)},n:function(){var $=p.next();return x=$.done,$},e:function($){S=!0,M=$},f:function(){try{!x&&p.return!=null&&p.return()}finally{if(S)throw M}}}}function a(m,f){if(m){if(typeof m=="string")return g(m,f);var p=Object.prototype.toString.call(m).slice(8,-1);if(p==="Object"&&m.constructor&&(p=m.constructor.name),p==="Map"||p==="Set")return Array.from(m);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return g(m,f)}}function g(m,f){(f==null||f>m.length)&&(f=m.length);for(var p=0,b=new Array(f);p<f;p++)b[p]=m[p];return b}function s(m,f,p,b,w,x,S){try{var M=m[x](S),P=M.value}catch($){p($);return}M.done?f(P):Promise.resolve(P).then(b,w)}function v(m){return function(){var f=this,p=arguments;return new Promise(function(b,w){var x=m.apply(f,p);function S(P){s(x,b,w,S,M,"next",P)}function M(P){s(x,b,w,S,M,"throw",P)}S(void 0)})}}const o=dr(),c=["suggest","format","onState","validate","onRender","type"],i=()=>{};function d(){return l.apply(this,arguments)}function l(){return l=v(function*(m=[],{onSubmit:f=i,onCancel:p=i}={}){const b={},w=d._override||{};m=[].concat(m);let x,S,M,P,$,O;const T=function(){var E=v(function*(C,B,me=!1){if(!(!me&&C.validate&&C.validate(B)!==!0))return C.format?yield C.format(B,b):B});return function(B,me){return E.apply(this,arguments)}}();var I=e(m),D;try{for(I.s();!(D=I.n()).done;){S=D.value;var R=S;if(P=R.name,$=R.type,typeof $=="function"&&($=yield $(x,r({},b),S),S.type=$),!!$){for(let E in S){if(c.includes(E))continue;let C=S[E];S[E]=typeof C=="function"?yield C(x,r({},b),O):C}if(O=S,typeof S.message!="string")throw new Error("prompt message is required");var j=S;if(P=j.name,$=j.type,o[$]===void 0)throw new Error(`prompt type (${$}) is not defined`);if(w[S.name]!==void 0&&(x=yield T(S,w[S.name]),x!==void 0)){b[P]=x;continue}try{x=d._injected?n(d._injected,S.initial):yield o[$](S),b[P]=x=yield T(S,x,!0),M=yield f(S,x,b)}catch{M=!(yield p(S,b))}if(M)return b}}}catch(E){I.e(E)}finally{I.f()}return b}),l.apply(this,arguments)}function n(m,f){const p=m.shift();if(p instanceof Error)throw p;return p===void 0?f:p}function u(m){d._injected=(d._injected||[]).concat(m)}function y(m){d._override=Object.assign({},m)}return Ct=Object.assign(d,{prompt:d,prompts:o,inject:u,override:y}),Ct}var It={},Et,ii;function pr(){return ii||(ii=1,Et=(t,r)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(r){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}),Et}var At,ri;function jt(){return ri||(ri=1,At=t=>{const r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),h=new RegExp(r,"g");return typeof t=="string"?t.replace(h,""):t}),At}var Ft,si;function mr(){if(si)return Ft;si=1;const t=jt(),{erase:r,cursor:h}=_(),e=a=>[...t(a)].length;return Ft=function(a,g){if(!g)return r.line+h.to(0);let s=0;const v=a.split(/\r?\n/);for(let o of v)s+=1+Math.floor(Math.max(e(o)-1,0)/g);return r.lines(s)},Ft}var Yt,ni;function oi(){if(ni)return Yt;ni=1;const t={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},r={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return Yt=process.platform==="win32"?r:t,Yt}var Ht,hi;function gr(){if(hi)return Ht;hi=1;const t=q(),r=oi(),h=Object.freeze({password:{scale:1,render:o=>"*".repeat(o.length)},emoji:{scale:2,render:o=>"\u{1F603}".repeat(o.length)},invisible:{scale:0,render:o=>""},default:{scale:1,render:o=>`${o}`}}),e=o=>h[o]||h.default,a=Object.freeze({aborted:t.red(r.cross),done:t.green(r.tick),exited:t.yellow(r.cross),default:t.cyan("?")});return Ht={styles:h,render:e,symbols:a,symbol:(o,c,i)=>c?a.aborted:i?a.exited:o?a.done:a.default,delimiter:o=>t.gray(o?r.ellipsis:r.pointerSmall),item:(o,c)=>t.gray(o?c?r.pointerSmall:"+":r.line)},Ht}var Lt,li;function vr(){if(li)return Lt;li=1;const t=jt();return Lt=function(r,h){let e=String(t(r)||"").split(/\r?\n/);return h?e.map(a=>Math.ceil(a.length/h)).reduce((a,g)=>a+g):e.length},Lt}var Nt,ui;function br(){return ui||(ui=1,Nt=(t,r={})=>{const h=Number.isSafeInteger(parseInt(r.margin))?new Array(parseInt(r.margin)).fill(" ").join(""):r.margin||"",e=r.width;return(t||"").split(/\r?\n/g).map(a=>a.split(/\s+/g).reduce((g,s)=>(s.length+h.length>=e||g[g.length-1].length+s.length+1<e?g[g.length-1]+=` ${s}`:g.push(`${h}${s}`),g),[h]).join(`
`)).join(`
`)}),Nt}var Vt,ai;function wr(){return ai||(ai=1,Vt=(t,r,h)=>{h=h||r;let e=Math.min(r-h,t-Math.floor(h/2));e<0&&(e=0);let a=Math.min(e+h,r);return{startIndex:e,endIndex:a}}),Vt}var kt,ci;function Y(){return ci||(ci=1,kt={action:pr(),clear:mr(),style:gr(),strip:jt(),figures:oi(),lines:vr(),wrap:br(),entriesToDisplay:wr()}),kt}var Ut,di;function k(){if(di)return Ut;di=1;const t=ge,{action:r}=Y(),h=ve,{beep:e,cursor:a}=_(),g=q();class s extends h{constructor(o={}){super(),this.firstRender=!0,this.in=o.stdin||process.stdin,this.out=o.stdout||process.stdout,this.onRender=(o.onRender||(()=>{})).bind(this);const c=t.createInterface({input:this.in,escapeCodeTimeout:50});t.emitKeypressEvents(this.in,c),this.in.isTTY&&this.in.setRawMode(!0);const i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,d=(l,n)=>{let u=r(n,i);u===!1?this._&&this._(l,n):typeof this[u]=="function"?this[u](n):this.bell()};this.close=()=>{this.out.write(a.show),this.in.removeListener("keypress",d),this.in.isTTY&&this.in.setRawMode(!1),c.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",d)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(e)}render(){this.onRender(g),this.firstRender&&(this.firstRender=!1)}}return Ut=s,Ut}var Bt,fi;function yr(){if(fi)return Bt;fi=1;const t=q(),r=k(),{erase:h,cursor:e}=_(),{style:a,clear:g,lines:s,figures:v}=Y();class o extends r{constructor(i={}){super(i),this.transform=a.render(i.style),this.scale=this.transform.scale,this.msg=i.message,this.initial=i.initial||"",this.validator=i.validate||(()=>!0),this.value="",this.errorMsg=i.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=g("",this.out.columns),this.render()}set value(i){!i&&this.initial?(this.placeholder=!0,this.rendered=t.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(i)),this._value=i,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let i=await this.validator(this.value);typeof i=="string"&&(this.errorMsg=i,i=!1),this.error=!i}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(i){this.placeholder||(this.cursor=this.cursor+i,this.cursorOffset+=i)}_(i,d){let l=this.value.slice(0,this.cursor),n=this.value.slice(this.cursor);this.value=`${l}${i}${n}`,this.red=!1,this.cursor=this.placeholder?0:l.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let i=this.value.slice(0,this.cursor-1),d=this.value.slice(this.cursor);this.value=`${i}${d}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let i=this.value.slice(0,this.cursor),d=this.value.slice(this.cursor+1);this.value=`${i}${d}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(e.down(s(this.outputError,this.out.columns)-1)+g(this.outputError,this.out.columns)),this.out.write(g(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[a.symbol(this.done,this.aborted),t.bold(this.msg),a.delimiter(this.done),this.red?t.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((i,d,l)=>i+`
${l?" ":v.pointerSmall} ${t.red().italic(d)}`,"")),this.out.write(h.line+e.to(0)+this.outputText+e.save+this.outputError+e.restore+e.move(this.cursorOffset,0)))}}return Bt=o,Bt}var Gt,pi;function xr(){if(pi)return Gt;pi=1;const t=q(),r=k(),{style:h,clear:e,figures:a,wrap:g,entriesToDisplay:s}=Y(),{cursor:v}=_();class o extends r{constructor(i={}){super(i),this.msg=i.message,this.hint=i.hint||"- Use arrow-keys. Return to submit.",this.warn=i.warn||"- This option is disabled",this.cursor=i.initial||0,this.choices=i.choices.map((d,l)=>(typeof d=="string"&&(d={title:d,value:l}),{title:d&&(d.title||d.value||d),value:d&&(d.value===void 0?l:d.value),description:d&&d.description,selected:d&&d.selected,disabled:d&&d.disabled})),this.optionsPerPage=i.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=e("",this.out.columns),this.render()}moveCursor(i){this.cursor=i,this.value=this.choices[i].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(i,d){if(i===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(v.hide):this.out.write(e(this.outputText,this.out.columns)),super.render();let{startIndex:i,endIndex:d}=s(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[h.symbol(this.done,this.aborted),t.bold(this.msg),h.delimiter(!1),this.done?this.selection.title:this.selection.disabled?t.yellow(this.warn):t.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let l=i;l<d;l++){let n,u,y="",m=this.choices[l];l===i&&i>0?u=a.arrowUp:l===d-1&&d<this.choices.length?u=a.arrowDown:u=" ",m.disabled?(n=this.cursor===l?t.gray().underline(m.title):t.strikethrough().gray(m.title),u=(this.cursor===l?t.bold().gray(a.pointer)+" ":"  ")+u):(n=this.cursor===l?t.cyan().underline(m.title):m.title,u=(this.cursor===l?t.cyan(a.pointer)+" ":"  ")+u,m.description&&this.cursor===l&&(y=` - ${m.description}`,(u.length+n.length+y.length>=this.out.columns||m.description.split(/\r?\n/).length>1)&&(y=`
`+g(m.description,{margin:3,width:this.out.columns})))),this.outputText+=`${u} ${n}${t.gray(y)}
`}}this.out.write(this.outputText)}}return Gt=o,Gt}var Jt,mi;function Sr(){if(mi)return Jt;mi=1;const t=q(),r=k(),{style:h,clear:e}=Y(),{cursor:a,erase:g}=_();class s extends r{constructor(o={}){super(o),this.msg=o.message,this.value=!!o.initial,this.active=o.active||"on",this.inactive=o.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(o,c){if(o===" ")this.value=!this.value;else if(o==="1")this.value=!0;else if(o==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(a.hide):this.out.write(e(this.outputText,this.out.columns)),super.render(),this.outputText=[h.symbol(this.done,this.aborted),t.bold(this.msg),h.delimiter(this.done),this.value?this.inactive:t.cyan().underline(this.inactive),t.gray("/"),this.value?t.cyan().underline(this.active):this.active].join(" "),this.out.write(g.line+a.to(0)+this.outputText))}}return Jt=s,Jt}var Wt,gi;function L(){if(gi)return Wt;gi=1;class t{constructor({token:h,date:e,parts:a,locales:g}){this.token=h,this.date=e||new Date,this.parts=a||[this],this.locales=g||{}}up(){}down(){}next(){const h=this.parts.indexOf(this);return this.parts.find((e,a)=>a>h&&e instanceof t)}setTo(h){}prev(){let h=[].concat(this.parts).reverse();const e=h.indexOf(this);return h.find((a,g)=>g>e&&a instanceof t)}toString(){return String(this.date)}}return Wt=t,Wt}var zt,vi;function $r(){if(vi)return zt;vi=1;const t=L();class r extends t{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}}return zt=r,zt}var Kt,bi;function Mr(){if(bi)return Kt;bi=1;const t=L(),r=e=>(e=e%10,e===1?"st":e===2?"nd":e===3?"rd":"th");class h extends t{constructor(a={}){super(a)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(a){this.date.setDate(parseInt(a.substr(-2)))}toString(){let a=this.date.getDate(),g=this.date.getDay();return this.token==="DD"?String(a).padStart(2,"0"):this.token==="Do"?a+r(a):this.token==="d"?g+1:this.token==="ddd"?this.locales.weekdaysShort[g]:this.token==="dddd"?this.locales.weekdays[g]:a}}return Kt=h,Kt}var Zt,wi;function Or(){if(wi)return Zt;wi=1;const t=L();class r extends t{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}}return Zt=r,Zt}var Xt,yi;function Pr(){if(yi)return Xt;yi=1;const t=L();class r extends t{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return Xt=r,Xt}var Qt,xi;function Tr(){if(xi)return Qt;xi=1;const t=L();class r extends t{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}}return Qt=r,Qt}var te,Si;function qr(){if(Si)return te;Si=1;const t=L();class r extends t{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),a=this.token.length;return a===2?String(e+1).padStart(2,"0"):a===3?this.locales.monthsShort[e]:a===4?this.locales.months[e]:String(e+1)}}return te=r,te}var ee,$i;function _r(){if($i)return ee;$i=1;const t=L();class r extends t{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}}return ee=r,ee}var ie,Mi;function Dr(){if(Mi)return ie;Mi=1;const t=L();class r extends t{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}}return ie=r,ie}var re,Oi;function Rr(){return Oi||(Oi=1,re={DatePart:L(),Meridiem:$r(),Day:Mr(),Hours:Or(),Milliseconds:Pr(),Minutes:Tr(),Month:qr(),Seconds:_r(),Year:Dr()}),re}var se,Pi;function Cr(){if(Pi)return se;Pi=1;const t=q(),r=k(),{style:h,clear:e,figures:a}=Y(),{erase:g,cursor:s}=_(),{DatePart:v,Meridiem:o,Day:c,Hours:i,Milliseconds:d,Minutes:l,Month:n,Seconds:u,Year:y}=Rr(),m=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,f={1:({token:w})=>w.replace(/\\(.)/g,"$1"),2:w=>new c(w),3:w=>new n(w),4:w=>new y(w),5:w=>new o(w),6:w=>new i(w),7:w=>new l(w),8:w=>new u(w),9:w=>new d(w)},p={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class b extends r{constructor(x={}){super(x),this.msg=x.message,this.cursor=0,this.typed="",this.locales=Object.assign(p,x.locales),this._date=x.initial||new Date,this.errorMsg=x.error||"Please Enter A Valid Value",this.validator=x.validate||(()=>!0),this.mask=x.mask||"YYYY-MM-DD HH:mm:ss",this.clear=e("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(x){x&&this._date.setTime(x.getTime())}set mask(x){let S;for(this.parts=[];S=m.exec(x);){let P=S.shift(),$=S.findIndex(O=>O!=null);this.parts.push($ in f?f[$]({token:S[$]||P,date:this.date,parts:this.parts,locales:this.locales}):S[$]||P)}let M=this.parts.reduce((P,$)=>(typeof $=="string"&&typeof P[P.length-1]=="string"?P[P.length-1]+=$:P.push($),P),[]);this.parts.splice(0),this.parts.push(...M),this.reset()}moveCursor(x){this.typed="",this.cursor=x,this.fire()}reset(){this.moveCursor(this.parts.findIndex(x=>x instanceof v)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let x=await this.validator(this.value);typeof x=="string"&&(this.errorMsg=x,x=!1),this.error=!x}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let x=this.parts[this.cursor].prev();if(x==null)return this.bell();this.moveCursor(this.parts.indexOf(x)),this.render()}right(){let x=this.parts[this.cursor].next();if(x==null)return this.bell();this.moveCursor(this.parts.indexOf(x)),this.render()}next(){let x=this.parts[this.cursor].next();this.moveCursor(x?this.parts.indexOf(x):this.parts.findIndex(S=>S instanceof v)),this.render()}_(x){/\d/.test(x)&&(this.typed+=x,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(s.hide):this.out.write(e(this.outputText,this.out.columns)),super.render(),this.outputText=[h.symbol(this.done,this.aborted),t.bold(this.msg),h.delimiter(!1),this.parts.reduce((x,S,M)=>x.concat(M===this.cursor&&!this.done?t.cyan().underline(S.toString()):S),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((x,S,M)=>x+`
${M?" ":a.pointerSmall} ${t.red().italic(S)}`,"")),this.out.write(g.line+s.to(0)+this.outputText))}}return se=b,se}var ne,Ti;function Ir(){if(Ti)return ne;Ti=1;const t=q(),r=k(),{cursor:h,erase:e}=_(),{style:a,figures:g,clear:s,lines:v}=Y(),o=/[0-9]/,c=l=>l!==void 0,i=(l,n)=>{let u=Math.pow(10,n);return Math.round(l*u)/u};class d extends r{constructor(n={}){super(n),this.transform=a.render(n.style),this.msg=n.message,this.initial=c(n.initial)?n.initial:"",this.float=!!n.float,this.round=n.round||2,this.inc=n.increment||1,this.min=c(n.min)?n.min:-1/0,this.max=c(n.max)?n.max:1/0,this.errorMsg=n.error||"Please Enter A Valid Value",this.validator=n.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(n){!n&&n!==0?(this.placeholder=!0,this.rendered=t.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${i(n,this.round)}`),this._value=i(n,this.round)),this.fire()}get value(){return this._value}parse(n){return this.float?parseFloat(n):parseInt(n)}valid(n){return n==="-"||n==="."&&this.float||o.test(n)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let n=this.value;this.value=n!==""?n:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let n=await this.validator(this.value);typeof n=="string"&&(this.errorMsg=n,n=!1),this.error=!n}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let n=this.value;this.value=n!==""?n:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let n=this.value.toString();if(n.length===0)return this.bell();this.value=this.parse(n=n.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(n,u){if(!this.valid(n))return this.bell();const y=Date.now();if(y-this.lastHit>1e3&&(this.typed=""),this.typed+=n,this.lastHit=y,this.color="cyan",n===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(h.down(v(this.outputError,this.out.columns)-1)+s(this.outputError,this.out.columns)),this.out.write(s(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[a.symbol(this.done,this.aborted),t.bold(this.msg),a.delimiter(this.done),!this.done||!this.done&&!this.placeholder?t[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((n,u,y)=>n+`
${y?" ":g.pointerSmall} ${t.red().italic(u)}`,"")),this.out.write(e.line+h.to(0)+this.outputText+h.save+this.outputError+h.restore))}}return ne=d,ne}var oe,qi;function _i(){if(qi)return oe;qi=1;const t=q(),{cursor:r}=_(),h=k(),{clear:e,figures:a,style:g,wrap:s,entriesToDisplay:v}=Y();class o extends h{constructor(i={}){super(i),this.msg=i.message,this.cursor=i.cursor||0,this.scrollIndex=i.cursor||0,this.hint=i.hint||"",this.warn=i.warn||"- This option is disabled -",this.minSelected=i.min,this.showMinError=!1,this.maxChoices=i.max,this.instructions=i.instructions,this.optionsPerPage=i.optionsPerPage||10,this.value=i.choices.map((d,l)=>(typeof d=="string"&&(d={title:d,value:l}),{title:d&&(d.title||d.value||d),description:d&&d.description,value:d&&(d.value===void 0?l:d.value),selected:d&&d.selected,disabled:d&&d.disabled})),this.clear=e("",this.out.columns),i.overrideRender||this.render()}reset(){this.value.map(i=>!i.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(i=>i.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const i=this.value.filter(d=>d.selected);this.minSelected&&i.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const i=this.value[this.cursor];if(i.selected)i.selected=!1,this.render();else{if(i.disabled||this.value.filter(d=>d.selected).length>=this.maxChoices)return this.bell();i.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const i=!this.value[this.cursor].selected;this.value.filter(d=>!d.disabled).forEach(d=>d.selected=i),this.render()}_(i,d){if(i===" ")this.handleSpaceToggle();else if(i==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${a.arrowUp}/${a.arrowDown}: Highlight option
    ${a.arrowLeft}/${a.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(i,d,l,n){const u=(d.selected?t.green(a.radioOn):a.radioOff)+" "+n+" ";let y,m;return d.disabled?y=i===l?t.gray().underline(d.title):t.strikethrough().gray(d.title):(y=i===l?t.cyan().underline(d.title):d.title,i===l&&d.description&&(m=` - ${d.description}`,(u.length+y.length+m.length>=this.out.columns||d.description.split(/\r?\n/).length>1)&&(m=`
`+s(d.description,{margin:u.length,width:this.out.columns})))),u+y+t.gray(m||"")}paginateOptions(i){if(i.length===0)return t.red("No matches for this query.");let{startIndex:d,endIndex:l}=v(this.cursor,i.length,this.optionsPerPage),n,u=[];for(let y=d;y<l;y++)y===d&&d>0?n=a.arrowUp:y===l-1&&l<i.length?n=a.arrowDown:n=" ",u.push(this.renderOption(this.cursor,i[y],y,n));return`
`+u.join(`
`)}renderOptions(i){return this.done?"":this.paginateOptions(i)}renderDoneOrInstructions(){if(this.done)return this.value.filter(d=>d.selected).map(d=>d.title).join(", ");const i=[t.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&i.push(t.yellow(this.warn)),i.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(r.hide),super.render();let i=[g.symbol(this.done,this.aborted),t.bold(this.msg),g.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.value),this.out.write(this.clear+i),this.clear=e(i,this.out.columns)}}return oe=o,oe}var he,Di;function Er(){if(Di)return he;Di=1;const t=q(),r=k(),{erase:h,cursor:e}=_(),{style:a,clear:g,figures:s,wrap:v,entriesToDisplay:o}=Y(),c=(n,u)=>n[u]&&(n[u].value||n[u].title||n[u]),i=(n,u)=>n[u]&&(n[u].title||n[u].value||n[u]),d=(n,u)=>{const y=n.findIndex(m=>m.value===u||m.title===u);return y>-1?y:void 0};class l extends r{constructor(u={}){super(u),this.msg=u.message,this.suggest=u.suggest,this.choices=u.choices,this.initial=typeof u.initial=="number"?u.initial:d(u.choices,u.initial),this.select=this.initial||u.cursor||0,this.i18n={noMatches:u.noMatches||"no matches found"},this.fallback=u.fallback||this.initial,this.clearFirst=u.clearFirst||!1,this.suggestions=[],this.input="",this.limit=u.limit||10,this.cursor=0,this.transform=a.render(u.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=g("",this.out.columns),this.complete(this.render),this.render()}set fallback(u){this._fb=Number.isSafeInteger(parseInt(u))?parseInt(u):u}get fallback(){let u;return typeof this._fb=="number"?u=this.choices[this._fb]:typeof this._fb=="string"&&(u={title:this._fb}),u||this._fb||{title:this.i18n.noMatches}}moveSelect(u){this.select=u,this.suggestions.length>0?this.value=c(this.suggestions,u):this.value=this.fallback.value,this.fire()}async complete(u){const y=this.completing=this.suggest(this.input,this.choices),m=await y;if(this.completing!==y)return;this.suggestions=m.map((p,b,w)=>({title:i(w,b),value:c(w,b),description:p.description})),this.completing=!1;const f=Math.max(m.length-1,0);this.moveSelect(Math.min(f,this.select)),u&&u()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(u,y){let m=this.input.slice(0,this.cursor),f=this.input.slice(this.cursor);this.input=`${m}${u}${f}`,this.cursor=m.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let u=this.input.slice(0,this.cursor-1),y=this.input.slice(this.cursor);this.input=`${u}${y}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let u=this.input.slice(0,this.cursor),y=this.input.slice(this.cursor+1);this.input=`${u}${y}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(u,y,m,f){let p,b=m?s.arrowUp:f?s.arrowDown:" ",w=y?t.cyan().underline(u.title):u.title;return b=(y?t.cyan(s.pointer)+" ":"  ")+b,u.description&&(p=` - ${u.description}`,(b.length+w.length+p.length>=this.out.columns||u.description.split(/\r?\n/).length>1)&&(p=`
`+v(u.description,{margin:3,width:this.out.columns}))),b+" "+w+t.gray(p||"")}render(){if(this.closed)return;this.firstRender?this.out.write(e.hide):this.out.write(g(this.outputText,this.out.columns)),super.render();let{startIndex:u,endIndex:y}=o(this.select,this.choices.length,this.limit);if(this.outputText=[a.symbol(this.done,this.aborted,this.exited),t.bold(this.msg),a.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const m=this.suggestions.slice(u,y).map((f,p)=>this.renderOption(f,this.select===p+u,p===0&&u>0,p+u===y-1&&y<this.choices.length)).join(`
`);this.outputText+=`
`+(m||t.gray(this.fallback.title))}this.out.write(h.line+e.to(0)+this.outputText)}}return he=l,he}var le,Ri;function Ar(){if(Ri)return le;Ri=1;const t=q(),{cursor:r}=_(),h=_i(),{clear:e,style:a,figures:g}=Y();class s extends h{constructor(o={}){o.overrideRender=!0,super(o),this.inputValue="",this.clear=e("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(o=>o.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const o=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(i=>this.inputValue?!!(typeof i.title=="string"&&i.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof i.value=="string"&&i.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const c=this.filteredOptions.findIndex(i=>i===o);this.cursor=c<0?0:c,this.render()}handleSpaceToggle(){const o=this.filteredOptions[this.cursor];if(o.selected)o.selected=!1,this.render();else{if(o.disabled||this.value.filter(c=>c.selected).length>=this.maxChoices)return this.bell();o.selected=!0,this.render()}}handleInputChange(o){this.inputValue=this.inputValue+o,this.updateFilteredOptions()}_(o,c){o===" "?this.handleSpaceToggle():this.handleInputChange(o)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${g.arrowUp}/${g.arrowDown}: Highlight option
    ${g.arrowLeft}/${g.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:t.gray("Enter something to filter")}
`}renderOption(o,c,i){let d;return c.disabled?d=o===i?t.gray().underline(c.title):t.strikethrough().gray(c.title):d=o===i?t.cyan().underline(c.title):c.title,(c.selected?t.green(g.radioOn):g.radioOff)+"  "+d}renderDoneOrInstructions(){if(this.done)return this.value.filter(c=>c.selected).map(c=>c.title).join(", ");const o=[t.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&o.push(t.yellow(this.warn)),o.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(r.hide),super.render();let o=[a.symbol(this.done,this.aborted),t.bold(this.msg),a.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(o+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),o+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+o),this.clear=e(o,this.out.columns)}}return le=s,le}var ue,Ci;function jr(){if(Ci)return ue;Ci=1;const t=q(),r=k(),{style:h,clear:e}=Y(),{erase:a,cursor:g}=_();class s extends r{constructor(o={}){super(o),this.msg=o.message,this.value=o.initial,this.initialValue=!!o.initial,this.yesMsg=o.yes||"yes",this.yesOption=o.yesOption||"(Y/n)",this.noMsg=o.no||"no",this.noOption=o.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(o,c){return o.toLowerCase()==="y"?(this.value=!0,this.submit()):o.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(g.hide):this.out.write(e(this.outputText,this.out.columns)),super.render(),this.outputText=[h.symbol(this.done,this.aborted),t.bold(this.msg),h.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:t.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(a.line+g.to(0)+this.outputText))}}return ue=s,ue}var ae,Ii;function Fr(){return Ii||(Ii=1,ae={TextPrompt:yr(),SelectPrompt:xr(),TogglePrompt:Sr(),DatePrompt:Cr(),NumberPrompt:Ir(),MultiselectPrompt:_i(),AutocompletePrompt:Er(),AutocompleteMultiselectPrompt:Ar(),ConfirmPrompt:jr()}),ae}var Ei;function Yr(){return Ei||(Ei=1,function(t){const r=t,h=Fr(),e=s=>s;function a(s,v,o={}){return new Promise((c,i)=>{const d=new h[s](v),l=o.onAbort||e,n=o.onSubmit||e,u=o.onExit||e;d.on("state",v.onState||e),d.on("submit",y=>c(n(y))),d.on("exit",y=>c(u(y))),d.on("abort",y=>i(l(y)))})}r.text=s=>a("TextPrompt",s),r.password=s=>(s.style="password",r.text(s)),r.invisible=s=>(s.style="invisible",r.text(s)),r.number=s=>a("NumberPrompt",s),r.date=s=>a("DatePrompt",s),r.confirm=s=>a("ConfirmPrompt",s),r.list=s=>{const v=s.separator||",";return a("TextPrompt",s,{onSubmit:o=>o.split(v).map(c=>c.trim())})},r.toggle=s=>a("TogglePrompt",s),r.select=s=>a("SelectPrompt",s),r.multiselect=s=>{s.choices=[].concat(s.choices||[]);const v=o=>o.filter(c=>c.selected).map(c=>c.value);return a("MultiselectPrompt",s,{onAbort:v,onSubmit:v})},r.autocompleteMultiselect=s=>{s.choices=[].concat(s.choices||[]);const v=o=>o.filter(c=>c.selected).map(c=>c.value);return a("AutocompleteMultiselectPrompt",s,{onAbort:v,onSubmit:v})};const g=(s,v)=>Promise.resolve(v.filter(o=>o.title.slice(0,s.length).toLowerCase()===s.toLowerCase()));r.autocomplete=s=>(s.suggest=s.suggest||g,s.choices=[].concat(s.choices||[]),a("AutocompletePrompt",s))}(It)),It}var ce,Ai;function Hr(){if(Ai)return ce;Ai=1;const t=Yr(),r=["suggest","format","onState","validate","onRender","type"],h=()=>{};async function e(v=[],{onSubmit:o=h,onCancel:c=h}={}){const i={},d=e._override||{};v=[].concat(v);let l,n,u,y,m,f;const p=async(b,w,x=!1)=>{if(!(!x&&b.validate&&b.validate(w)!==!0))return b.format?await b.format(w,i):w};for(n of v)if({name:y,type:m}=n,typeof m=="function"&&(m=await m(l,{...i},n),n.type=m),!!m){for(let b in n){if(r.includes(b))continue;let w=n[b];n[b]=typeof w=="function"?await w(l,{...i},f):w}if(f=n,typeof n.message!="string")throw new Error("prompt message is required");if({name:y,type:m}=n,t[m]===void 0)throw new Error(`prompt type (${m}) is not defined`);if(d[n.name]!==void 0&&(l=await p(n,d[n.name]),l!==void 0)){i[y]=l;continue}try{l=e._injected?a(e._injected,n.initial):await t[m](n),i[y]=l=await p(n,l,!0),u=await o(n,l,i)}catch{u=!await c(n,i)}if(u)return i}return i}function a(v,o){const c=v.shift();if(c instanceof Error)throw c;return c===void 0?o:c}function g(v){e._injected=(e._injected||[]).concat(v)}function s(v){e._override=Object.assign({},v)}return ce=Object.assign(e,{prompt:e,prompts:t,inject:g,override:s}),ce}function Lr(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let r=0,h=process.versions.node.split(".").map(Number);for(;r<t.length;r++){if(h[r]>t[r])return!1;if(t[r]>h[r])return!0}return!1}var Nr=Lr("8.6.0")?fr():Hr();const Vr=we(Nr);function kr(t,r){var h=t;r.slice(0,-1).forEach(function(a){h=h[a]||{}});var e=r[r.length-1];return e in h}function ji(t){return typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function Fi(t,r){return r==="constructor"&&typeof t[r]=="function"||r==="__proto__"}var Ur=function(t,r){r||(r={});var h={bools:{},strings:{},unknownFn:null};typeof r.unknown=="function"&&(h.unknownFn=r.unknown),typeof r.boolean=="boolean"&&r.boolean?h.allBools=!0:[].concat(r.boolean).filter(Boolean).forEach(function(w){h.bools[w]=!0});var e={};function a(w){return e[w].some(function(x){return h.bools[x]})}Object.keys(r.alias||{}).forEach(function(w){e[w]=[].concat(r.alias[w]),e[w].forEach(function(x){e[x]=[w].concat(e[w].filter(function(S){return x!==S}))})}),[].concat(r.string).filter(Boolean).forEach(function(w){h.strings[w]=!0,e[w]&&[].concat(e[w]).forEach(function(x){h.strings[x]=!0})});var g=r.default||{},s={_:[]};function v(w,x){return h.allBools&&/^--[^=]+$/.test(x)||h.strings[w]||h.bools[w]||e[w]}function o(w,x,S){for(var M=w,P=0;P<x.length-1;P++){var $=x[P];if(Fi(M,$))return;M[$]===void 0&&(M[$]={}),(M[$]===Object.prototype||M[$]===Number.prototype||M[$]===String.prototype)&&(M[$]={}),M[$]===Array.prototype&&(M[$]=[]),M=M[$]}var O=x[x.length-1];Fi(M,O)||((M===Object.prototype||M===Number.prototype||M===String.prototype)&&(M={}),M===Array.prototype&&(M=[]),M[O]===void 0||h.bools[O]||typeof M[O]=="boolean"?M[O]=S:Array.isArray(M[O])?M[O].push(S):M[O]=[M[O],S])}function c(w,x,S){if(!(S&&h.unknownFn&&!v(w,S)&&h.unknownFn(S)===!1)){var M=!h.strings[w]&&ji(x)?Number(x):x;o(s,w.split("."),M),(e[w]||[]).forEach(function(P){o(s,P.split("."),M)})}}Object.keys(h.bools).forEach(function(w){c(w,g[w]===void 0?!1:g[w])});var i=[];t.indexOf("--")!==-1&&(i=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var d=0;d<t.length;d++){var l=t[d],n,u;if(/^--.+=/.test(l)){var y=l.match(/^--([^=]+)=([\s\S]*)$/);n=y[1];var m=y[2];h.bools[n]&&(m=m!=="false"),c(n,m,l)}else if(/^--no-.+/.test(l))n=l.match(/^--no-(.+)/)[1],c(n,!1,l);else if(/^--.+/.test(l))n=l.match(/^--(.+)/)[1],u=t[d+1],u!==void 0&&!/^(-|--)[^-]/.test(u)&&!h.bools[n]&&!h.allBools&&(!e[n]||!a(n))?(c(n,u,l),d+=1):/^(true|false)$/.test(u)?(c(n,u==="true",l),d+=1):c(n,h.strings[n]?"":!0,l);else if(/^-[^-]+/.test(l)){for(var f=l.slice(1,-1).split(""),p=!1,b=0;b<f.length;b++){if(u=l.slice(b+2),u==="-"){c(f[b],u,l);continue}if(/[A-Za-z]/.test(f[b])&&u[0]==="="){c(f[b],u.slice(1),l),p=!0;break}if(/[A-Za-z]/.test(f[b])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(u)){c(f[b],u,l),p=!0;break}if(f[b+1]&&f[b+1].match(/\W/)){c(f[b],l.slice(b+2),l),p=!0;break}else c(f[b],h.strings[f[b]]?"":!0,l)}n=l.slice(-1)[0],!p&&n!=="-"&&(t[d+1]&&!/^(-|--)[^-]/.test(t[d+1])&&!h.bools[n]&&(!e[n]||!a(n))?(c(n,t[d+1],l),d+=1):t[d+1]&&/^(true|false)$/.test(t[d+1])?(c(n,t[d+1]==="true",l),d+=1):c(n,h.strings[n]?"":!0,l))}else if((!h.unknownFn||h.unknownFn(l)!==!1)&&s._.push(h.strings._||!ji(l)?l:Number(l)),r.stopEarly){s._.push.apply(s._,t.slice(d+1));break}}return Object.keys(g).forEach(function(w){kr(s,w.split("."))||(o(s,w.split("."),g[w]),(e[w]||[]).forEach(function(x){o(s,x.split("."),g[w])}))}),r["--"]?s["--"]=i.slice():i.forEach(function(w){s._.push(w)}),s};const Br=we(Ur),de=Br(process.argv.slice(2),{string:["_"]}),fe=process.cwd(),pe="project",Gr={_gitignore:".gitignore"},Jr=[{name:"vue",display:"vue",color:J,variants:[{name:"vue-ts",display:"TypeScript",color:K},{name:"vue",display:"JavaScript",color:J}]},{name:"react",display:"react",color:J,variants:[{name:"react-ts",display:"TypeScript",color:K},{name:"react",display:"JavaScript",color:J}]},{name:"uniapp",display:"uniapp",color:J,variants:[{name:"uniapp-ts",display:"TypeScript",color:K},{name:"uniapp",display:"JavaScript",color:J}]}];Wr();async function Wr(){console.log(K("create-7779 start"));try{const t=Yi(de._[0]),r=de.template||de.t;let h=t||pe;const e=await Vr([{type:"text",name:"projectName",initial:pe,message:Z("project name:"),onState:l=>{h=Yi(l.value)||pe}},{type:()=>!A.existsSync(h)||Zr(h)?null:"select",name:"overwrite",message:()=>(h==="."?"Current directory":`Target directory "${h}"`)+" is not empty. Please choose how to proceed:",initial:0,choices:[{title:"Remove existing files and continue",value:"yes"},{title:"Cancel operation",value:"no"},{title:"Ignore files and continue",value:"ignore"}]},{type:"select",name:"framework",message:Z("Select a framework:"),choices:Jr.map(l=>{const n=l.color;return{title:n(l.display||l.name),value:l}})},{type:"select",name:"variant",message:Z("Select a variant:"),choices:l=>l.variants.map(n=>{const u=n.color;return{title:u(n.display||n.name),value:n.name}})},{onCancel:()=>{throw new Error(Ni("\u2716")+" Operation cancelled")}}]),a=N.join(fe,h);e.overwrite==="yes"?Kr(a):A.existsSync(a)||A.mkdirSync(a,{recursive:!0});let g=e.variant||e.framework?.name||r;const s=N.resolve(Li(import.meta.url),"../..",`template-${g}`),v=(l,n)=>{const u=N.join(a,Gr[l]??l);n?A.writeFileSync(u,n):Hi(N.join(s,l),u)},o=A.readdirSync(s);for(const l of o)v(l);console.log(`
Done. Now run:
`);const c=N.relative(fe,a);a!==fe&&console.log(`  cd ${c.includes(" ")?`"${c}"`:c}`);const i=zr(process.env.npm_config_user_agent),d=i?i.name:"npm";switch(d){case"yarn":console.log("  yarn"),console.log("  yarn dev");break;default:console.log(`  ${d} install`),console.log(`  ${d} run dev`);break}console.log()}catch(t){console.error(t)}}function zr(t){if(!t)return;const r=t.split(" ")[0].split("/");return{name:r[0],version:r[1]}}function Kr(t){if(A.existsSync(t))for(const r of A.readdirSync(t))r!==".git"&&A.rmSync(N.resolve(t,r),{recursive:!0,force:!0})}function Yi(t){return t?.trim().replace(/\/+$/g,"")}function Zr(t){const r=A.readdirSync(t);return r.length===0||r.length===1&&r[0]===".git"}function Hi(t,r){A.statSync(t).isDirectory()?Xr(t,r):A.copyFileSync(t,r)}function Xr(t,r){A.mkdirSync(r,{recursive:!0});for(const h of A.readdirSync(t)){const e=N.resolve(t,h),a=N.resolve(r,h);Hi(e,a)}}
